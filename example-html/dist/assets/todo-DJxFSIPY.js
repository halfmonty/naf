import"./modulepreload-polyfill-B5Qt9EMX.js";let a,g;const D=t=>{a&&(t.add(a),g==null||g.push(t))},M=t=>[...t].forEach(e=>e());function v(t){let e=t;const n=new Set;return function(o){return arguments.length>0?(e!==o&&(e=o,M(n)),o):(D(n),e)}}function N(t){let e,n=!0;const o=new Set,i=()=>{n=!0,M(o)};return()=>{if(D(o),n){const c=a;a=i,e=t(),a=c,n=!1}return e}}function q(t){let e=!1;const n=[],o=()=>{if(e)return;e=!0,n.forEach(r=>r.delete(o)),n.length=0;const i=a,c=g;a=o,g=n,t(),a=i,g=c,e=!1};return o(),()=>{n.forEach(i=>i.delete(o)),n.length=0}}function l(t,e=document){return e.querySelector(t)}function F(t,e=document){return Array.from(e.querySelectorAll(t))}function x(t,e,n){return t==null||t.addEventListener(e,n),t}function m(t,e){return t?q(()=>e(t)):()=>{}}function B(t,e,n,o,i){if(!t||!e)return()=>{};const c=new Map,r=q(()=>{var C;const p=n(),h=new Set(p.map(o));for(const[u,f]of c)h.has(u)||((C=f.cleanup)==null||C.call(f),f.el.remove(),c.delete(u));let b=null;for(let u=0;u<p.length;u++){const f=p[u],L=o(f);let s=c.get(L);if(s)s.item(f),s.index(u);else{const w=e.content.firstElementChild.cloneNode(!0),A=v(f),T=v(u);s={el:w,item:A,index:T},c.set(L,s);const $=i(w,()=>A(),()=>T());$&&(s.cleanup=$)}b?s.el.previousElementSibling!==b&&b.after(s.el):s.el!==t.firstElementChild&&t.prepend(s.el),b=s.el}});return()=>{var p;r();for(const h of c.values())(p=h.cleanup)==null||p.call(h);c.clear()}}const d=v([{id:1,text:"Learn NAF-HTML",done:!1},{id:2,text:"Read the docs",done:!0}]),k=v("all"),S=v(""),K=N(()=>{const t=d(),e=k();return e==="active"?t.filter(n=>!n.done):e==="completed"?t.filter(n=>n.done):t}),H=N(()=>d().filter(t=>!t.done).length);F(".todo-item").forEach(t=>t.remove());m(l(".active-count"),t=>t.textContent=String(H()));m(l(".active-label"),t=>t.textContent=H()===1?"item remaining":"items remaining");const y=l(".add-todo-form"),E=l('input[name="text"]',y),R=l("button",y);x(E,"input",()=>S(E.value));m(R,t=>t.toggleAttribute("disabled",!S().trim()));x(y,"submit",t=>{t.preventDefault();const e=S().trim();e&&(d([...d(),{id:Date.now(),text:e,done:!1}]),S(""),E.value="",E.focus())});F(".filters button").forEach(t=>{const e=t.dataset.filter;x(t,"click",()=>k(e)),m(t,n=>n.classList.toggle("active",k()===e))});B(l(".todo-list"),l("#todo-tpl"),K,t=>t.id,(t,e)=>{const n=m(l(".todo-text",t),r=>r.textContent=e().text),o=m(t,r=>r.classList.toggle("done",e().done)),i=l('input[type="checkbox"]',t),c=m(i,r=>r.checked=e().done);return x(i,"change",()=>{d(d().map(r=>r.id===e().id?{...r,done:i.checked}:r))}),x(l(".danger",t),"click",()=>{d(d().filter(r=>r.id!==e().id))}),()=>{n(),o(),c()}});console.log("NAF-HTML todo page loaded");
