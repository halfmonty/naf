var a,f,g=t=>{a&&(t.add(a),f?.push(t))},v=t=>[...t].forEach(r=>r());function S(t){let r=t,n=new Set;return function(o){return arguments.length>0?(r!==o&&(r=o,v(n)),o):(g(n),r)}}function b(t){let r,n=!0,o=new Set,e=()=>{n=!0,v(o)};return()=>{if(g(o),n){let l=a;a=e,r=t(),a=l,n=!1}return r}}function c(t){let r=!1,n=[],o=()=>{if(r)return;r=!0,n.forEach(u=>u.delete(o)),n.length=0;let e=a,l=f;a=o,f=n,t(),a=e,f=l,r=!1};return o(),()=>{n.forEach(e=>e.delete(o)),n.length=0}}function w(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function x(t){return t!=null&&typeof t=="object"&&"html"in t&&"mount"in t}function d(t,r){let n=[],o=[t[0]];for(let e=0;e<r.length;e++){let l=r[e];x(l)?(n.push(l),o.push(l.html)):typeof l=="string"?o.push(l):l!=null&&l!==!1&&o.push(String(l)),o.push(t[e+1])}return{html:o.join(""),components:n}}function T(t,r,n){let o={html:t,el:void 0,mount(e){e.innerHTML||(e.innerHTML=t);for(let l of r)l.mount(e);if(n?.root){let l=e.querySelector(n.root);if(!l)throw new Error(`Element not found for selector: ${n.root}`);o.el=l}n?.onMount?.(o.el,e)},unmount(){for(let e of r)e.unmount?.();n?.onUnmount?.()}};return o}var C=0;function h(t,r,n){let o=t.parentNode,e=t.nextSibling;for(;e&&e.textContent!==`/naf-${r}`;)e=e.nextSibling;let l=e;for(e=t.nextSibling;e&&e!==l;){let u=e.nextSibling;o.removeChild(e),e=u}if(n){let u=document.createElement("div");for(u.innerHTML=n;u.firstChild;)o.insertBefore(u.firstChild,l)}}function E(t,r){let n=C++,o,e=`<!--naf-${n}--><!--/naf-${n}-->`;return{html:e,mount(l){l.innerHTML||(l.innerHTML=e);let u=document.createTreeWalker(l,NodeFilter.SHOW_COMMENT,null),i=null,m=null,s;for(;s=u.nextNode();)if(s.textContent===`naf-${n}`)i=s;else if(s.textContent===`/naf-${n}`){m=s;break}if(!i||!m)throw new Error(`Could not find placeholder comments: naf-${n}`);o=r(i)},unmount(){o?.()}}}function L(t,...r){if(!Array.isArray(t)&&typeof t=="object"&&!("raw"in t)){let u=t;return(i,...m)=>{let{html:s,components:p}=d(i,m);return T(s,p,u)}}let n=t,o=r,{html:e,components:l}=d(n,o);return T(e,l)}function A(t,r,n){let o;return E("when",e=>{let l=e.textContent?.replace("naf-","")||"0",u=c(()=>{o?.unmount?.();let i=t();o=i?r(i):n?.(i);let m=o?.html??"";h(e,l,m),o?.mount(e.parentNode)});return()=>{u(),o?.unmount?.()}})}function M(t,r){let n=[];return E("each",o=>{let e=o.textContent?.replace("naf-","")||"0",l=c(()=>{n.forEach(m=>m.unmount?.()),n=[];let i=t().map((m,s)=>{let p=r(m,()=>s);return n.push(p),p.html}).join("");h(o,e,i),n.forEach(m=>m.mount(o.parentNode))});return()=>{l(),n.forEach(u=>u.unmount?.())}})}function y(t,r,n){return t?c(()=>{let o=n();o===!1||o===null?t.removeAttribute(r):o===!0?t.setAttribute(r,""):t.setAttribute(r,String(o))}):()=>{}}function k(t,r){return t.querySelector(r)}function H(t,r){return Array.from(t.querySelectorAll(r))}function $(t,r,n,o){let e=t.querySelector(r);return e&&e.addEventListener(n,o),e}function R(t,r,n,o){let e=t.querySelector(r);if(!e)return null;let l=o?.type||"text";l==="checkbox"&&e instanceof HTMLInputElement?e.checked=n():"value"in e&&(e.value=n());let u=l==="checkbox"?"change":"input";return e.addEventListener(u,()=>{l==="checkbox"&&e instanceof HTMLInputElement?n(e.checked):"value"in e&&n(e.value)}),o?.reactive&&c(()=>{let i=n();l==="checkbox"&&e instanceof HTMLInputElement?e.checked=i:"value"in e&&e.value!==i&&(e.value=i)}),e}function I(t,r,n){return t?c(()=>{n()?t.classList.add(r):t.classList.remove(r)}):()=>{}}function N(t,r,n,o){return y(t,r,()=>o()?n||!0:!1)}function O(t,r){return t?c(()=>{t.textContent=String(r())}):()=>{}}function q(t){let{root:r,routes:n,notFound:o}=t,e=null,l=()=>window.location.hash||"#/",u=()=>{e?.unmount?.();let s=n[l()]??o;s?(e=s(),r.innerHTML=e.html,e.mount(r)):(e=null,r.innerHTML="<h1>Page Not Found</h1>")},i=s=>{window.location.hash=s};return window.addEventListener("hashchange",u),window.addEventListener("load",u),document.readyState==="complete"&&u(),{navigate:i,current:l,destroy:()=>{window.removeEventListener("hashchange",u),window.removeEventListener("load",u),e?.unmount?.(),e=null}}}export{k as $,H as $$,$ as $on,y as attr,b as computed,q as createRouter,M as each,c as effect,R as model,O as setText,S as signal,L as template,w as text,N as toggleAttr,I as toggleClass,A as when};
