var c,p,T=e=>{c&&(e.add(c),p?.push(e))},h=e=>[...e].forEach(o=>o());function y(e){let o=e,t=new Set;return function(r){return arguments.length>0?(o!==r&&(o=r,h(t)),r):(T(t),o)}}function b(e){let o,t=!0,r=new Set,n=()=>{t=!0,h(r)};return()=>{if(T(r),t){let u=c;c=n,o=e(),c=u,t=!1}return o}}function m(e){let o=!1,t=[],r=()=>{if(o)return;o=!0,t.forEach(l=>l.delete(r)),t.length=0;let n=c,u=p;c=r,p=t,e(),c=n,p=u,o=!1};return r(),()=>{t.forEach(n=>n.delete(r)),t.length=0}}function S(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function g(e){return e!=null&&typeof e=="object"&&"html"in e&&"mount"in e}function d(e,o){let t=[],r=[e[0]];for(let n=0;n<o.length;n++){let u=o[n];g(u)?(t.push(u),r.push(u.html)):u!=null&&u!==!1&&r.push(String(u)),r.push(e[n+1])}return{html:r.join(""),components:t}}function f(e,o,t){let r={html:e,el:void 0,mount(n){n.innerHTML||(n.innerHTML=e);for(let u of o)u.mount(n);t?.root&&(r.el=n.querySelector(t.root)??void 0),t?.onMount?.(r.el,n)},unmount(){for(let n of o)n.unmount?.();t?.onUnmount?.()}};return r}var x=0;function v(e,o){let t=`naf-${x++}`,r,n=`<span data-${e}="${t}"></span>`;return{html:n,mount(u){let l=u.querySelector(`[data-${e}="${t}"]`);if(!l&&(u.innerHTML=n,l=u.querySelector(`[data-${e}="${t}"]`),!l))throw new Error(`Could not find placeholder data-${e}="${t}"`);r=o(l)},unmount(){r?.()}}}function C(e,...o){if(!Array.isArray(e)&&typeof e=="object"&&!("raw"in e)){let l=e;return(i,...a)=>{let{html:s,components:E}=d(i,a);return f(s,E,l)}}let t=e,r=o,{html:n,components:u}=d(t,r);return f(n,u)}function L(e,o,t){let r;return v("when",n=>{let u=m(()=>{r?.unmount?.(),r=e()?o():t?.(),n.innerHTML=r?.html??"",r?.mount(n)});return()=>{u(),r?.unmount?.()}})}function w(e,o){let t=[];return v("each",r=>{let n=m(()=>{t.forEach(i=>i.unmount?.()),t=[];let l=e().map((i,a)=>{let s=o(i,()=>a);return t.push(s),s.html}).join("");r.innerHTML=l,t.forEach(i=>i.mount(r))});return()=>{n(),t.forEach(u=>u.unmount?.())}})}function M(e,o,t){return m(()=>{e[o]=t()})}function A(e,o,t){return m(()=>{let r=t();r===null?e.removeAttribute(o):e.setAttribute(o,r)})}function H(e,o){return e.querySelector(o)}function $(e,o){return e.querySelectorAll(o)}function k(e,o,t,r){let n=e.querySelector(o);return n&&n.addEventListener(t,r),n}function q(e,o,t,r){let n=e.querySelector(o);if(!n)return null;let u=r?.type||"text";u==="checkbox"&&n instanceof HTMLInputElement?n.checked=t():"value"in n&&(n.value=t());let l=u==="checkbox"?"change":"input";return n.addEventListener(l,()=>{u==="checkbox"&&n instanceof HTMLInputElement?t(n.checked):"value"in n&&t(n.value)}),r?.reactive&&m(()=>{let i=t();u==="checkbox"&&n instanceof HTMLInputElement?n.checked=i:"value"in n&&n.value!==i&&(n.value=i)}),n}function R(e,o,t){return e?m(()=>{t()?e.classList.add(o):e.classList.remove(o)}):()=>{}}function I(e,o,t,r){return e?m(()=>{r()?e.setAttribute(o,t):e.removeAttribute(o)}):()=>{}}function V(e){let{root:o,routes:t,notFound:r}=e,n=null,u=()=>window.location.hash||"#/",l=()=>{n?.unmount?.();let s=t[u()]??r;s?(n=s(),o.innerHTML=n.html,n.mount(o)):(n=null,o.innerHTML="<h1>Page Not Found</h1>")},i=s=>{window.location.hash=s};return window.addEventListener("hashchange",l),window.addEventListener("load",l),document.readyState==="complete"&&l(),{navigate:i,current:u,destroy:()=>{window.removeEventListener("hashchange",l),window.removeEventListener("load",l),n?.unmount?.(),n=null}}}export{H as $,$ as $$,k as $on,M as bind,A as bindAttr,b as computed,V as createRouter,w as each,m as effect,q as model,y as signal,C as template,S as text,I as toggleAttr,R as toggleClass,L as when};
