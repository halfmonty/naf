var s,d,b=e=>{s&&(e.add(s),d?.push(e))},h=e=>[...e].forEach(t=>t());function g(e){let t=e,r=new Set;return function(n){return arguments.length>0?(t!==n&&(t=n,h(r)),n):(b(r),t)}}function k(e){let t,r=!0,n=new Set,l=()=>{r=!0,h(n)};return()=>{if(b(n),r){let u=s;s=l,t=e(),s=u,r=!1}return t}}function T(e){let t=!1,r=[],n=()=>{if(t)return;t=!0,r.forEach(m=>m.delete(n)),r.length=0;let l=s,u=d;s=n,d=r,e(),s=l,d=u,t=!1};return n(),()=>{r.forEach(l=>l.delete(n)),r.length=0}}function L(e){return e.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t])}function M(e,t=document){return t.querySelector(e)}function C(e,t=document){return Array.from(t.querySelectorAll(e))}function H(e,t,r){return e?.addEventListener(t,r),e}function w(e,t){return e?T(()=>t(e)):()=>{}}function $(e,t,r){if(!e)return null;let n=e instanceof HTMLInputElement&&e.type==="checkbox";return n?e.checked=t():"value"in e&&(e.value=t()),e.addEventListener(n?"change":"input",()=>{n?t(e.checked):"value"in e&&t(e.value)}),r?.reactive&&T(()=>{let l=t();n?e.checked=l:"value"in e&&e.value!==l&&(e.value=l)}),e}function q(e,t,r,n,l){if(!e||!t)return()=>{};let u=new Map,m=T(()=>{let a=r(),y=new Set(a.map(n));for(let[o,c]of u)y.has(o)||(c.cleanup?.(),c.el.remove(),u.delete(o));let f=null;for(let o=0;o<a.length;o++){let c=a[o],p=n(c),i=u.get(p);if(i)i.item(c),i.index(o);else{let v=t.content.firstElementChild.cloneNode(!0),E=g(c),S=g(o);i={el:v,item:E,index:S},u.set(p,i);let x=l(v,()=>E(),()=>S());x&&(i.cleanup=x)}f?i.el.previousElementSibling!==f&&f.after(i.el):i.el!==e.firstElementChild&&e.prepend(i.el),f=i.el}});return()=>{m();for(let a of u.values())a.cleanup?.();u.clear()}}export{M as $,C as $$,H as $on,k as computed,T as effect,w as fx,q as list,$ as model,g as signal,L as text};
