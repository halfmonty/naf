var s,d,b=e=>{s&&(e.add(s),d?.push(e))},h=e=>[...e].forEach(n=>n());function g(e){let n=e,l=new Set;return function(t){return arguments.length>0?(n!==t&&(n=t,h(l)),t):(b(l),n)}}function k(e){let n,l=!0,t=new Set,r=()=>{l=!0,h(t)};return()=>{if(b(t),l){let i=s;s=r,n=e(),s=i,l=!1}return n}}function m(e){let n=!1,l=[],t=()=>{if(n)return;n=!0,l.forEach(T=>T.delete(t)),l.length=0;let r=s,i=d;s=t,d=l,e(),s=r,d=i,n=!1};return t(),()=>{l.forEach(r=>r.delete(t)),l.length=0}}function M(e){return e.replace(/[&<>"']/g,n=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[n])}function L(e,n=document){return n.querySelector(e)}function H(e,n=document){return Array.from(n.querySelectorAll(e))}function $(e,n,l){return e?.addEventListener(n,l),e}function C(e,n){return e?m(()=>n(e)):()=>{}}function w(e,n,l){if(!e)return null;let t=e instanceof HTMLInputElement&&e.type==="checkbox";return t?e.checked=n():"value"in e&&(e.value=n()),e.addEventListener(t?"change":"input",()=>{t?n(e.checked):"value"in e&&n(e.value)}),l?.reactive&&m(()=>{let r=n();t?e.checked=r:"value"in e&&e.value!==r&&(e.value=r)}),e}function K(e,n,l,t,r){if(!e||!n)return()=>{};let i=new Map,T=m(()=>{let a=l(),y=new Set(a.map(t));for(let[u,c]of i)y.has(u)||(c.cleanup?.(),c.el.remove(),i.delete(u));let f=null;for(let u=0;u<a.length;u++){let c=a[u],p=t(c),o=i.get(p);if(o)o.item(c),o.index(u);else{let v=n.content.firstElementChild.cloneNode(!0),E=g(c),x=g(u);o={el:v,item:E,index:x},i.set(p,o);let S=r(v,()=>E(),()=>x());S&&(o.cleanup=S)}f?o.el.previousElementSibling!==f&&f.after(o.el):o.el!==e.firstElementChild&&e.prepend(o.el),f=o.el}});return()=>{T();for(let a of i.values())a.cleanup?.();i.clear()}}export{L as $,H as $$,$ as $on,k as computed,m as effect,C as fx,K as list,w as model,g as signal,M as text};
